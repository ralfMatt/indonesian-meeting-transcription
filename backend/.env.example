# Indonesian Meeting Transcription API - Environment Configuration
# Copy this file to .env and fill in your actual values

# =================================================================
# SERVER CONFIGURATION
# =================================================================
NODE_ENV=development
PORT=3001
HOST=localhost

# =================================================================
# SECURITY CONFIGURATION (CRITICAL - CHANGE IN PRODUCTION)
# =================================================================
# JWT Secret Key (MUST be changed in production - use 64+ random characters)
JWT_SECRET=dev-jwt-secret-key-change-in-production-to-64-char-random-string

# Data Encryption Key (MUST be exactly 32 characters in production)
ENCRYPTION_KEY=dev-encryption-key-32-chars-long!

# Session Secret (for additional session security)
SESSION_SECRET=dev-session-secret-change-in-production

# API Keys for external service access (comma-separated for multiple keys)
API_KEYS=dev-api-key-1,dev-api-key-2

# =================================================================
# DATABASE CONFIGURATION
# =================================================================
# Supabase Configuration
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_KEY=your-supabase-service-key

# =================================================================
# OPENAI CONFIGURATION  
# =================================================================
# OpenAI API Key for meeting summarization
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2000

# Audio Processing
MAX_FILE_SIZE=100MB
AUDIO_UPLOAD_PATH=./uploads/audio
PROCESSED_AUDIO_PATH=./uploads/processed

# Whisper Configuration
WHISPER_MODEL_PATH=./models/whisper
WHISPER_MODEL_SIZE=base
WHISPER_LANGUAGE=id

# GPT Configuration
GPT_MODEL=gpt-4
GPT_MAX_TOKENS=2000
GPT_TEMPERATURE=0.3

# =================================================================
# CORS CONFIGURATION
# =================================================================
# Allowed Origins (comma-separated for multiple domains)
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
CORS_CREDENTIALS=true

# =================================================================
# RATE LIMITING & SECURITY
# =================================================================
# Rate limit window in milliseconds (default: 15 minutes)
RATE_LIMIT_WINDOW_MS=900000
# Maximum requests per window per IP
RATE_LIMIT_MAX_REQUESTS=100

# WebSocket Configuration
WS_PORT=3002
WS_HEARTBEAT_INTERVAL=30000

# =================================================================
# LOGGING & MONITORING
# =================================================================
LOG_LEVEL=info
LOG_FILE_PATH=./logs/app.log
# Enable security event logging
SECURITY_LOGGING=true

# =================================================================
# PRODUCTION SECURITY SETTINGS
# =================================================================
# Enable HTTPS in production (auto-detected in most hosting platforms)
FORCE_HTTPS=false
# Trust proxy headers (enable if behind reverse proxy like nginx)
TRUST_PROXY=false
# Enable IP whitelist (comma-separated IPs, empty = allow all)
IP_WHITELIST=

# =================================================================
# BUSINESS CONFIGURATION FOR INDONESIAN SMEs
# =================================================================
# Company registration features
ENABLE_COMPANY_REGISTRATION=true
# Maximum users per company (for SME tier)
MAX_USERS_PER_COMPANY=10
# Maximum meetings per month (for SME tier)
MAX_MEETINGS_PER_MONTH=100

# Cleanup Configuration
CLEANUP_INTERVAL_HOURS=24
MAX_FILE_AGE_HOURS=48

# =================================================================
# DEVELOPMENT SETTINGS (NOT FOR PRODUCTION)
# =================================================================
# Enable debug mode
DEBUG=false
# Mock external services
MOCK_OPENAI=false